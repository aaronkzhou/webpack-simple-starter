<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>InterCity® | Bus Tickets From $1 | NZ’s National Network</title>
        <meta name="description" content="New Zealand&#039;s most popular bus network. Bus tickets from $1 (+booking fee). Bus passes for backpackers. Book bus tickets online - no credit card required." />
        <!-- Styles -->
        <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700" rel="stylesheet">
        <link href="/css/style.css?ver=1.0.0" rel="stylesheet">
    </head>
    <body>

        <!-- App preloader -->
        <div id="preloader"></div>

        <!-- Overlay -->
        <div class="overlay"></div>

        <!-- Main header -->
        <header class="main-header js-main-header">
            <h1 class="main-header-logo">
                <a href="/" class="main-logo-link">
                    <img src="/img/intercity-logo.svg" alt="InterCity" class="main-logo-img">
                </a>
            </h1>
            <!-- Main menu -->
            <nav class="main-nav js-main-nav">
                <ul class="nav-list featured">
                    <li class="nav-item animate-cascade-down-1 js-nav-item"><a href="/_static/results.html" class="nav-link js-nav-link active">Book</a></li>
                    <li class="nav-item animate-cascade-down-2 js-nav-item"><a href="#" class="nav-link js-nav-link">Manage</a></li>
                    <li class="nav-item animate-cascade-down-3 js-nav-item"><a href="#" class="nav-link js-nav-link">Bus status</a></li>
                </ul>
                <ul class="nav-list">
                    <li class="nav-item animate-cascade-down-4 js-nav-item"><a href="#" class="nav-link js-nav-link">Day Tours</a></li>
                    <li class="nav-item animate-cascade-down-5 js-nav-item"><a href="#" class="nav-link js-nav-link">Bus Passes</a></li>
                    <li class="nav-item animate-cascade-down-6 js-nav-item"><a href="#" class="nav-link js-nav-link">Help &amp; Info</a></li>
                </ul>
                <div class="user-details nav-item animate-cascade-down-8 js-nav-item">
                    <a href="#" class="user-details-item user-details-cart filled">
                        <svg class="icon"><use xlink:href="/img/sprite.svg#shopping-cart"></use></svg>
                        <span class="cart-text">Cart</span>
                        <span class="cart-items-amount">2</span>
                    </a>
                    <a href="#" class="user-details-item user-details-login"><svg class="icon"><use xlink:href="/img/sprite.svg#account"></use></svg>Log in <span class="extended">/ Sign up</span></a>
                </div>
            </nav>

            <a href="#" class="nav-btn animate-cascade-down js-nav-btn"><span class="nav-icon"></span></a>

            <!-- Navigation overlay -->
            <div class="nav-overlay js-nav-overlay"></div>

        </header>


        <!-- Main page content -->
        <main class="main-content">
            <div class="container container1">
                <h1>inject data to template1</h1>
            </div>

            <div class="container container2">
                <h1>inject data to template2</h1>
            </div>

            <div class="container container3">
                <h1>render string to target html directly</h1>
            </div>

            <div class="container container4">
                <h1>asynchronous render</h1>
            </div>


            <footer class="footer">
                <div class="wrapper row">
                    <section class="footer-section col s12 m5 l2 collapse-group mobile-only js-collapse-group">
                        <h4 class="footer-title js-collapse-toggle">Useful Bus info <span class="collapse-icon"></span></h4>
                        <ul class="footer-list js-collapsible">
                            <li class="footer-list-item"><a class="footer-link" href="#">Service Status</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Bus Stops &amp; Timetables</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Route Map</a></li>
                        </ul>
                    </section>
                    <section class="footer-section col s12 m5 l2 collapse-group mobile-only js-collapse-group">
                        <h4 class="footer-title js-collapse-toggle">Tours and Passes<span class="collapse-icon"></span></h4>
                        <ul class="footer-list js-collapsible">
                            <li class="footer-list-item"><a class="footer-link" href="#">Day Tours</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">FlexiPass</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">TravelPass</a></li>
                        </ul>
                    </section>
                    <section class="footer-section col s12 m5 l2 collapse-group mobile-only js-collapse-group">
                        <h4 class="footer-title js-collapse-toggle">Helpful info<span class="collapse-icon"></span></h4>
                        <ul class="footer-list js-collapsible">
                            <li class="footer-list-item"><a class="footer-link" href="#">FAQs</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Changes/Refunds</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Luggage info</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Travelling with kids</a></li>
                        </ul>
                    </section>
                    <section class="footer-section col s12 m5 l2 collapse-group mobile-only js-collapse-group">
                        <h4 class="footer-title js-collapse-toggle">Contact<span class="collapse-icon"></span></h4>
                        <ul class="footer-list js-collapsible">
                            <li class="footer-list-item"><a class="footer-link" href="#">Need help with bookings</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Booking Agents</a></li>
                            <li class="footer-list-item"><a class="footer-link" href="#">Feedback Form</a></li>
                        </ul>
                    </section>
                </div>
                <div class="footer-extra-info">
                    <div class="wrapper">
                        <div class="footer-cr">Copyright &copy; 2017 Intercity Group(NZ) Ltd</div>
                        <ul class="footer-legal">
                            <li class="footer-legal-item">
                                <a class="footer-legal-link" href="#">Terms &amp; Conditions</a>
                            </li>
                            <li class="footer-legal-item">
                                <a class="footer-legal-link" href="#">Privacy</a>
                            </li>
                            <li class="footer-legal-item">
                                <a class="footer-legal-link" href="#">Sitemap</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </footer>
        </main>

        <!-- Scripts -->
        <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src='/js/lib/nunjucks-slim.js?ver=3.0.1'></script>
        <script src='/js/templates.js?ver=1.0.0'></script>
        <script>
        jQuery(document).ready(function($) {

            'use strict';

            // case 0: inject data in template
            var stops = {
                "Locations": [
                {
                    "Id": "da255c6e-1d57-5e92-11e6-4a3bbb7bbac8",
                    "Code": "WRG",
                    "Type": "Stop",
                    "Name": "A1 Rata Grove (Franz Josef)",
                    "Description": "23 Cron St",
                    "Area": "WST",
                    "Region": "STH",
                    "Latitude": "-43.388233",
                    "Longitude": "170.183538",
                    "StopRating": "0",
                    "ParentId": "da255c6e-1d57-5e92-11e6-4a3bbae4c6e0",
                    "SearchableCode": "WRG",
                    "LastUpdate": "2016-08-09 12:44:48+12:00"
                },
                {
                    "Id": "da255c6e-1d57-5e92-11e6-4a3bbae97168",
                    "Code": "ABF",
                    "Type": "Stop",
                    "Name": "Aberfeldy",
                    "Description": "Top of the Hill, State Highway 4",
                    "Area": "MAN",
                    "Region": "NTH",
                    "Latitude": "-39.785587",
                    "Longitude": "175.231794",
                    "StopRating": "21",
                    "ParentId": "da255c6e-1d57-5e92-11e6-4a3bbae48ac2",
                    "SearchableCode": "ABF",
                    "LastUpdate": "2017-07-31 04:17:01+12:00"
                }
                ]
            };

            // inject data in template by using nunjucts render function then use jquery to append

            var html = nunjucks.render('js-template.html', {data: stops.Locations, test:'testhtml2'});
            var html1 = nunjucks.render('js-template1.html', {foo: 'test1', variable: 'testdd2'});
            $(".container1").append(html);
            $(".container2").append(html1);

            // as a reference
            //case 2： asynchronous render
            /*var res = nunjucks.render('js-template.html', { username: 'James' });
            nunjucks.render('async.html', function(err, res) {
                // render a new template
            });*/

        });
        </script>
    </body>
</html>
